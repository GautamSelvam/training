<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bank Account</title>
<link rel="stylesheet" href="bank.css">
</head>
<body>
<h1>Welcome to YONO SBI</h1>

<label for="amount">Amount: </label>
<input type="number" id="amount">
<button onclick="credit()">Credit</button>
<button onclick="debit()">Debit</button>

<p><span id="balance"></span></p>
<h2>Transaction History</h2>
<table>
        <tr>
            <th>Date</th>
            <th>Type</th>
            <th>Amount</th>
            <th>Balance</th>
        </tr>
        <tbody id="transactionTable">
    </tbody>
</table>

<script>
    let transactions = JSON.parse(localStorage.getItem('transactions')) ||[];

    document.getElementById('balance').innerHTML=localStorage.getItem('balance')

    function credit() {
        const amount = parseFloat(document.getElementById('amount').value);
        if (!isNaN(amount) && amount > 0) {
            const transaction = {
                date: new Date().toLocaleString(),
                type: 'Credit',
                amount: amount
            };
            transactions.push(transaction);
            updateTransaction();
            updateLocalStorage();
        } else {
            alert('Invalid Deposit');
        }
    }

    function debit() {
        const amount = parseFloat(document.getElementById('amount').value);
        if (!isNaN(amount) && amount > 0) {
            const transaction = {
                date: new Date().toLocaleString(),
                type: 'Debit',
                amount: -amount
            };
            transactions.push(transaction);
            updateTransaction();
            updateLocalStorage();
        } else {
            alert('Insufficient Balance');
        }
    }

    function updateTransaction() {
        const tableBody = document.getElementById('transactionTable');
        tableBody.innerHTML = '';

        let balance = 0;
        transactions.forEach(transaction => {
            balance += transaction.amount;
            const row = `<tr>
                            <td>${transaction.date}</td>
                            <td>${transaction.type}</td>
                            <td>${transaction.amount}</td>
                            <td>${balance}</td>
                         </tr>`;
            tableBody.innerHTML += row;
        });

        document.getElementById('balance').innerHTML = balance;

        localStorage.setItem('balance',balance);
    }

    function updateLocalStorage() {
        localStorage.setItem('transactions', JSON.stringify(transactions));
      
    }

    updateTransaction();
</script>
</body>
</html>
